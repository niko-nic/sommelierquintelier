const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/CheckoutModal-B_zKQXP0.js","assets/index--c8LnkeS.js","assets/index-omG5oCGB.css"])))=>i.map(i=>d[i]);
import{d as P,r as a,e as L,f as z,g as K,j as e,P as M,h as R,i as B,k as F,l as I,C as q,u as W,H as X,c as Q,m as g,n as Z,o as G,p as w,L as J,F as U,_ as Y,W as $}from"./index--c8LnkeS.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=P("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E=P("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const se=P("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);function te(t){const i=a.useRef({value:t,previous:t});return a.useMemo(()=>(i.current.value!==t&&(i.current.previous=i.current.value,i.current.value=t),i.current.previous),[t])}var S="Checkbox",[ie,de]=L(S),[re,ae]=ie(S),_=a.forwardRef((t,i)=>{const{__scopeCheckbox:r,name:m,checked:y,defaultChecked:o,required:h,disabled:b,value:v="on",onCheckedChange:j,form:f,...N}=t,[s,c]=a.useState(null),u=z(i,d=>c(d)),n=a.useRef(!1),p=s?f||!!s.closest("form"):!0,[x=!1,l]=K({prop:y,defaultProp:o,onChange:j}),V=a.useRef(x);return a.useEffect(()=>{const d=s==null?void 0:s.form;if(d){const C=()=>l(V.current);return d.addEventListener("reset",C),()=>d.removeEventListener("reset",C)}},[s,l]),e.jsxs(re,{scope:r,state:x,disabled:b,children:[e.jsx(M.button,{type:"button",role:"checkbox","aria-checked":k(x)?"mixed":x,"aria-required":h,"data-state":D(x),"data-disabled":b?"":void 0,disabled:b,value:v,...N,ref:u,onKeyDown:R(t.onKeyDown,d=>{d.key==="Enter"&&d.preventDefault()}),onClick:R(t.onClick,d=>{l(C=>k(C)?!0:!C),p&&(n.current=d.isPropagationStopped(),n.current||d.stopPropagation())})}),p&&e.jsx(ce,{control:s,bubbles:!n.current,name:m,value:v,checked:x,required:h,disabled:b,form:f,style:{transform:"translateX(-100%)"},defaultChecked:k(o)?!1:o})]})});_.displayName=S;var O="CheckboxIndicator",A=a.forwardRef((t,i)=>{const{__scopeCheckbox:r,forceMount:m,...y}=t,o=ae(O,r);return e.jsx(B,{present:m||k(o.state)||o.state===!0,children:e.jsx(M.span,{"data-state":D(o.state),"data-disabled":o.disabled?"":void 0,...y,ref:i,style:{pointerEvents:"none",...t.style}})})});A.displayName=O;var ce=t=>{const{control:i,checked:r,bubbles:m=!0,defaultChecked:y,...o}=t,h=a.useRef(null),b=te(r),v=F(i);a.useEffect(()=>{const f=h.current,N=window.HTMLInputElement.prototype,c=Object.getOwnPropertyDescriptor(N,"checked").set;if(b!==r&&c){const u=new Event("click",{bubbles:m});f.indeterminate=k(r),c.call(f,k(r)?!1:r),f.dispatchEvent(u)}},[b,r,m]);const j=a.useRef(k(r)?!1:r);return e.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:y??j.current,...o,tabIndex:-1,ref:h,style:{...t.style,...v,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function k(t){return t==="indeterminate"}function D(t){return k(t)?"indeterminate":t?"checked":"unchecked"}var H=_,ne=A;const T=a.forwardRef(({className:t,...i},r)=>e.jsx(H,{ref:r,className:I("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...i,children:e.jsx(ne,{className:I("flex items-center justify-center text-current"),children:e.jsx(q,{className:"h-4 w-4"})})}));T.displayName=H.displayName;const oe=a.lazy(()=>Y(()=>import("./CheckoutModal-B_zKQXP0.js"),__vite__mapDeps([0,1,2])));function ue(){const{t}=W(),[i,r]=a.useState({isOpen:!1,tier:"",tierName:"",bottles:3,amount:0,extras:[]}),[m,y]=a.useState({selection:[],cuvee:[],prestige:[]}),o={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},h={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.6}}},b=[{key:"selection",popular:!1,icon:$},{key:"cuvee",popular:!0,icon:E},{key:"prestige",popular:!1,icon:ee},{key:"champagne",popular:!1,icon:$},{key:"custom",popular:!1,icon:E}],v=(s,c)=>{if(s==="custom"){window.location.href="/contact";return}const u=t(`services.subscription.tiers.${s}.name`),n=m[s]||[];r({isOpen:!0,tier:s,tierName:u,bottles:c,amount:0,extras:n})},j=(s,c)=>{y(u=>{const n=u[s]||[],p=n.includes(c);return{...u,[s]:p?n.filter(x=>x!==c):[...n,c]}})},f=()=>{r({isOpen:!1,tier:"",tierName:"",bottles:3,amount:0,extras:[]})},N=[{icon:E,titleKey:"services.subscription.step1Title",descKey:"services.subscription.step1Description"},{icon:se,titleKey:"services.subscription.step2Title",descKey:"services.subscription.step2Description"},{icon:$,titleKey:"services.subscription.step3Title",descKey:"services.subscription.step3Description"}];return e.jsxs(e.Fragment,{children:[e.jsxs(X,{children:[e.jsxs("title",{children:[t("services.subscription.title")," | Sommelier Quintelier"]}),e.jsx("meta",{name:"description",content:t("services.subscription.description")})]}),e.jsxs("div",{className:"min-h-screen flex flex-col",children:[e.jsx(Q,{}),e.jsx("main",{className:"min-h-screen bg-background",children:e.jsx("section",{className:"py-20 lg:py-32 px-6 lg:px-8",children:e.jsxs("div",{className:"container mx-auto max-w-7xl",children:[e.jsxs(g.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},className:"text-center mb-16 lg:mb-24",children:[e.jsx("p",{className:"text-sm uppercase tracking-[0.2em] text-muted-foreground mb-4 font-medium","data-testid":"text-subscription-label",children:t("services.subscription.title")}),e.jsx("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-serif mb-6","data-testid":"text-subscription-title",children:t("services.subscription.description")}),e.jsx("p",{className:"text-lg md:text-xl text-muted-foreground max-w-3xl mx-auto font-light","data-testid":"text-subscription-subtitle",children:t("services.subscription.subtitle")})]}),e.jsxs(g.section,{variants:o,initial:"hidden",whileInView:"visible",viewport:{once:!0},className:"mb-20 lg:mb-32",children:[e.jsx(g.h2,{variants:h,className:"text-3xl md:text-4xl font-serif text-center mb-12","data-testid":"text-how-it-works",children:t("services.subscription.howItWorks")}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:N.map((s,c)=>e.jsxs(g.div,{variants:h,className:"text-center","data-testid":`step-${c}`,children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 mb-6 bg-primary/10 text-primary",children:e.jsx(s.icon,{className:"w-8 h-8"})}),e.jsx("h3",{className:"text-xl font-serif mb-3",children:t(s.titleKey)}),e.jsx("p",{className:"text-muted-foreground",children:t(s.descKey)})]},c))})]}),e.jsx(g.section,{variants:o,initial:"hidden",whileInView:"visible",viewport:{once:!0},children:e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 lg:gap-8",children:b.map(s=>{const c=s.key==="custom",u=s.key!=="champagne"&&s.key!=="custom";return e.jsx(g.div,{variants:h,children:e.jsxs(Z,{className:`p-8 h-full flex flex-col relative ${s.popular?"border-primary border-2":""}`,"data-testid":`tier-card-${s.key}`,children:[s.popular&&e.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-primary text-primary-foreground px-4 py-1 text-xs uppercase tracking-wider font-medium","data-testid":"badge-popular",children:t("services.subscription.popularBadge")}),e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(s.icon,{className:"w-6 h-6 text-primary"}),e.jsx("span",{className:"text-xs uppercase tracking-[0.2em] text-muted-foreground",children:t(`services.subscription.tiers.${s.key}.tagline`)})]}),e.jsx("h3",{className:"text-2xl md:text-3xl font-serif mb-3","data-testid":`text-tier-name-${s.key}`,children:t(`services.subscription.tiers.${s.key}.name`)}),e.jsx("p",{className:"text-muted-foreground mb-6 text-sm",children:t(`services.subscription.tiers.${s.key}.description`)}),c?e.jsxs("div",{className:"mb-6 pb-6 border-b",children:[e.jsx("div",{className:"flex items-baseline gap-2",children:e.jsx("span",{className:"text-3xl font-light","data-testid":`text-tier-price-${s.key}`,children:t(`services.subscription.tiers.${s.key}.price`)})}),e.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:t(`services.subscription.tiers.${s.key}.bottles`)})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mb-6 pb-6 border-b",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wider mb-2",children:t(`services.subscription.tiers.${s.key}.bottles3`)}),e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-3xl font-light","data-testid":`text-tier-price3-${s.key}`,children:t(`services.subscription.tiers.${s.key}.price3`)}),e.jsx("span",{className:"text-xs text-muted-foreground",children:t("services.subscription.perMonth")})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wider mb-2",children:t(`services.subscription.tiers.${s.key}.bottles6`)}),e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-3xl font-light","data-testid":`text-tier-price6-${s.key}`,children:t(`services.subscription.tiers.${s.key}.price6`)}),e.jsx("span",{className:"text-xs text-muted-foreground",children:t("services.subscription.perMonth")})]})]})]})}),u&&(()=>{const n=t(`services.subscription.tiers.${s.key}.extras`,{returnObjects:!0}),p=["champagne","dessert"];return Array.isArray(n)&&e.jsxs("div",{className:"mb-6 pb-6 border-b",children:[e.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wider mb-3",children:t("services.subscription.options")}),e.jsx("div",{className:"space-y-3",children:n.map((x,l)=>e.jsxs("div",{className:"flex items-start gap-3 group","data-testid":`extra-${s.key}-${l}`,children:[e.jsx(T,{id:`extra-${s.key}-${l}`,checked:(m[s.key]||[]).includes(p[l]),onCheckedChange:()=>j(s.key,p[l]),"data-testid":`checkbox-extra-${s.key}-${l}`,className:"mt-0.5"}),e.jsx("label",{htmlFor:`extra-${s.key}-${l}`,className:"text-sm cursor-pointer hover:text-foreground transition-colors",children:x})]},l))})]})})()]}),e.jsx("ul",{className:"space-y-3 mb-8 flex-1",children:t(`services.subscription.tiers.${s.key}.features`,{returnObjects:!0}).map((n,p)=>e.jsxs("li",{className:"flex items-start gap-3","data-testid":`feature-${s.key}-${p}`,children:[e.jsx(G,{className:"w-5 h-5 text-primary flex-shrink-0 mt-0.5"}),e.jsx("span",{className:"text-sm",children:n})]},p))}),s.key!=="custom"?e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs(w,{className:"w-full",variant:s.popular?"default":"outline",size:"lg",onClick:()=>v(s.key,3),"data-testid":`button-subscribe-${s.key}-3`,children:["3 ",t("services.subscription.bottlesCount")]}),e.jsxs(w,{className:"w-full",variant:s.popular?"default":"outline",size:"lg",onClick:()=>v(s.key,6),"data-testid":`button-subscribe-${s.key}-6`,children:["6 ",t("services.subscription.bottlesCount")]})]}):e.jsx(J,{href:"/contact",children:e.jsx(w,{className:"w-full",variant:"outline",size:"lg","data-testid":`button-subscribe-${s.key}`,children:t("services.subscription.cta")})})]})},s.key)})})}),e.jsxs(g.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8},className:"mt-16 text-center",children:[e.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto mb-8",children:t("services.subscription.body")}),e.jsxs("div",{className:"mt-12 pt-12 border-t",children:[e.jsx("h3",{className:"text-2xl font-serif mb-4","data-testid":"text-flexibility-title",children:t("services.subscription.flexibility")}),e.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:t("services.subscription.flexibilityText")})]})]})]})})}),e.jsx(U,{})]}),e.jsx(a.Suspense,{fallback:null,children:e.jsx(oe,{isOpen:i.isOpen,onClose:f,tier:i.tier,tierName:i.tierName,bottles:i.bottles,amount:i.amount,extras:i.extras})})]})}export{ue as default};
